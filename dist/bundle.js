module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports=require("antd")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("prop-types")},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(0),u=n(2),a=n.n(u);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){var e,n,r,o,i,u,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,p=new Array(s),y=0;y<s;y++)p[y]=arguments[y];return r=this,o=(e=f(t)).call.apply(e,[this].concat(p)),n=!o||"object"!==c(o)&&"function"!=typeof o?l(r):o,i=l(n),a=function(e){return new Promise(function(t){n.setState(e,t)})},(u="setStateAsync")in i?Object.defineProperty(i,u,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[u]=a,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o.a.Component),t}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function u(e){m(i,r,o,u,a,"next",e)}function a(e){m(i,r,o,u,a,"throw",e)}u(void 0)})}}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=new Array(i),a=0;a<i;a++)u[a]=arguments[a];return r=this,o=(e=h(t)).call.apply(e,[this].concat(u)),n=!o||"object"!==y(o)&&"function"!=typeof o?O(r):o,_(O(n),"state",{visible:!1,confirmLoading:!1,title:"",width:700,onOk:function(e){},modalConfig:{}}),_(O(n),"show",function(){var e=v(regeneratorRuntime.mark(function e(t,r){var o,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,n.setStateAsync({title:t,onOk:r,visible:!0,modalConfig:o});case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),_(O(n),"hide",function(){var e=v(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setStateAsync({visible:!1});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),_(O(n),"handleClose",function(){var e=v(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setStateAsync({visible:!1,confirmLoading:!1,title:"",width:700,onOk:function(e){},modalConfig:{}});case 2:n.props.form.resetFields();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),_(O(n),"cancel",function(){var e=v(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setStateAsync({loading:!1});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),_(O(n),"submit",function(){var e=v(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setStateAsync({loading:!0}),e.next=3,n.submit(n.state.onOk);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),_(O(n),"set",n.props.form.setFieldsValue),_(O(n),"get",n.props.form.getFieldsValue),_(O(n),"validate",function(e){return new Promise(function(e,t){n.props.form.validateFields(function(n,r){n?t(n):e(r)})})}),n}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,p),n=t,(r=[{key:"render",value:function(){var e=this.template();this.props.getRef(this);var t=this.state,n=t.modalConfig,r=void 0===n?{}:n,u=d(t,["modalConfig"]);return o.a.createElement(i.Modal,b({},u,r,{afterClose:this.handleClose,onCancel:this.hide}),e)}}])&&g(n.prototype,r),u&&g(n,u),t}();function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_(j,"propTypes",{getRef:a.a.func});var R=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=new Array(i),a=0;a<i;a++)u[a]=arguments[a];return r=this,o=(e=x(t)).call.apply(e,[this].concat(u)),n=!o||"object"!==S(o)&&"function"!=typeof o?A(r):o,I(A(n),"state",{visible:!1,confirmLoading:!1,title:"",width:700,onOk:function(e){}}),I(A(n),"show",function(e,t){n.setState({title:e,onOk:t,visible:!0})}),I(A(n),"hide",function(e){n.setState({visible:!1,confirmLoading:!1,title:"",width:700,onOk:function(e){}})}),I(A(n),"cancel",function(e){n.setState({loading:!1})}),I(A(n),"submit",function(){var e,t=(e=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,n.submit(n.state.onOk);case 3:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function u(e){P(i,r,o,u,a,"next",e)}function a(e){P(i,r,o,u,a,"throw",e)}u(void 0)})});return function(e){return t.apply(this,arguments)}}()),n}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.template();return this.props.getRef(this),o.a.createElement(i.Modal,C({},this.state,{onCancel:this.hide}),e)}}])&&E(n.prototype,r),u&&E(n,u),t}();I(R,"propTypes",{getRef:a.a.func});var T={FormInModal:j,Modal:R};function F(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function M(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var N="__model";function B(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D="__view";var Y={Model:{publish:function(e){return function(t){var n={};return n.__type=N,n[e]=new t,n}},subscribe:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign.apply(Object,M(e.keys().filter(function(e){return"index.js"!==e}).map(function(t){return e(t).default}).filter(function(e){return e&&e.__type===N}).map(function(e){return e.__type,F(e,["__type"])})).concat([t]))}},View:{publish:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){L(e,t,n[t])})}return e}({__type:D,path:e,component:n},t)}},subscribe:function(e){return e.keys().filter(function(e){return"index.js"!==e}).map(function(t){return e(t).default}).filter(function(e){return e&&e.__type===D}).map(function(e){return e.__type,B(e,["__type"])})}}};function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.init()}var t,n,r;return t=e,r=[{key:"init",value:function(){try{var t=document.createElement("div");t.style.display="none",(navigator.appName.indexOf("Internet")>=0||navigator.appVersion.indexOf("Trident")>=0)&&("x86"===window.navigator.cpuClass?t.innerHTML='<object id="CryptoAgent" codebase="http://static.feitaike.com.cn/cert/CryptoKit.Paperless.x86.cab" classid="clsid:B64B695B-348D-400D-8D58-9AAB1DA5851A" />':t.innerHTML='<object id="CryptoAgent" codebase="http://static.feitaike.com.cn/cert/CryptoKit.Paperless.x64.cab" classid="clsid:8BF7E683-630E-4B59-9E61-C996B671EBDF" />'),document.body.appendChild(t),e.CryptoAgent=document.getElementById("CryptoAgent")||null}catch(e){console.error(e)}}},{key:"selectCert",value:function(){if(!e.CryptoAgent)return i.message.error("当前浏览器不支持电子证书，请更换Internet Explorer浏览器！"),!1;try{return!!e.CryptoAgent.SelectCertificate("","","","")&&e.CryptoAgent.GetSignCertInfo(e.INFO_TYPE.SERIAL_NUMBER)}catch(t){return console.error("err",t),i.message.error(e.CryptoAgent.GetLastErrorDesc()),!1}}},{key:"getCertInfo",value:function(t){if(!e.CryptoAgent)return i.message.error("当前浏览器不支持电子证书，请更换Internet Explorer浏览器！"),!1;try{return e.CryptoAgent.GetSignCertInfo(t)}catch(t){return console.error("err",t),i.message.error(e.CryptoAgent.GetLastErrorDesc()),!1}}},{key:"sign",value:function(t){try{return this.CryptoAgent.SignHashMsgPKCS7Detached(t,"SHA-1")}catch(t){return i.message.error(e.CryptoAgent.GetLastErrorDesc()),!1}}},{key:"base64Format",value:function(t){return t.replace(/[+]/g,e.BASE64_FORMAT_KEY)}},{key:"quickPreSign",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.serialNumber=e.selectCert(),!!t.serialNumber&&(console.error(t),t.certContent=e.base64Format(e.getCertInfo(e.INFO_TYPE.CERT_CONTENT)),t)}},{key:"quickSign",value:function(t){var n=t.pdfFileId,r=t.certInfo,o=void 0===r?{}:r,i=o.saSealInfoId,u=o.sessionId,a=o.pdfSealHash,c=e.getCertInfo(e.INFO_TYPE.SERIAL_NUMBER);return i?{pdfFileId:n,saSealInfoId:i,sessionId:u,signature:e.base64Format(e.sign(a)),serialNumber:c}:{pdfFileId:n,serialNumber:c}}}],(n=null)&&q(t.prototype,n),r&&q(t,r),e}();G(H,"INFO_TYPE",{CERT_CONTENT:"CertContent",SERIAL_NUMBER:"SerialNumber"}),G(H,"BASE64_FORMAT_KEY","feitaike"),G(H,"CryptoAgent",null);var K=H;n.d(t,"Component",function(){return T}),n.d(t,"Decorator",function(){return Y}),n.d(t,"cert",function(){return K})}]);